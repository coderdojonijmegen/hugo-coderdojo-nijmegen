<!doctype html><html lang=nl-nl><head><title>Löve2d - Blocks</title>
<meta name=viewport content="width=device-width,initial-scale=1"><meta name=mobile-web-app-capable content="yes"><link rel=stylesheet href=/css/style.min.9cd710d57624abde7865dacd857ddd9596050b5dea9372299d271065540756da.css><link rel=icon href=/imgs/icon-512x512.png><meta property="og:title" content="CoderDojo Nijmegen - Löve2d - Blocks"><meta property="og:type" content="website"><meta property="og:image" content="https://coderdojo-nijmegen.nl/imgs/logo_coderdojo_nijmegen-zwart.png"><meta property="og:url" content="https://coderdojo-nijmegen.nl/instructies/love2d-blocks/"></head><body><header class=teal-background><menu><span class=menu-toggle id=js-menu-toggle><i></i>
<i></i>
<i></i>
</span><logo><a href=/><img src=/imgs/logo_coderdojo_nijmegen.png alt="logo CoderDojo"></a></logo><ul id=js-menu class=menu><li><a href=/nieuws/>nieuws</a></li><li><a href=/dojos/>dojos</a></li><li><a href=/instructies/>instructies</a></li><li><a href=/onderwerpen/>onderwerpen</a></li><li><a href=/meehelpen/>meehelpen</a></li><li><a href=/team/>team</a></li><li><a href=/stichting/>stichting</a></li><li><a href=/zoeken/>zoeken</a></li></ul></menu></header><main><breadcrumbs><ul><li><a href=/>home</a></li><li>/ <a href=/instructies>instructies</a></li><li>/ <a href=/instructies/love2d-blocks>love2d-blocks</a></li></ul></breadcrumbs><h1>Löve2d - Blocks</h1><article class=instructie><aside class=toc><header><h2>Inhoud</h2></header><nav id=TableOfContents><ul><li><a href=#de-regels>De regels</a><ul><li><a href=#controls>Controls</a></li></ul></li><li><a href=#overzicht>Overzicht</a></li><li><a href=#programmeren>Programmeren</a><ul><li><a href=#het-venster-tekenen>Het venster tekenen</a></li><li><a href=#het-rooster-tekenen>Het rooster tekenen</a></li><li><a href=#het-rooster-inkleuren>Het rooster inkleuren</a></li><li><a href=#de-gevallen-blokken-bewaren>De gevallen blokken bewaren</a></li><li><a href=#de-kleur-van-de-blokken>De kleur van de blokken</a></li><li><a href=#de-stukken-opslaan>De stukken opslaan</a></li><li><a href=#het-vallende-stuk-opslaan>Het vallende stuk opslaan</a></li><li><a href=#het-stuk-tekenen>Het stuk tekenen</a></li><li><a href=#het-stuk-draaien>Het stuk draaien</a></li><li><a href=#de-stukken-testen>De stukken testen</a></li><li><a href=#de-positie-van-het-vallende-stuk-bijhouden>De positie van het vallende stuk bijhouden</a></li><li><a href=#het-stuk-verplaatsen>Het stuk verplaatsen</a></li><li><a href=#timer>Timer</a></li><li><a href=#stukken-vallen>Stukken vallen</a></li><li><a href=#linker-rechter-en-onderrand-van-het-rooster>Linker, rechter en onderrand van het rooster</a></li><li><a href=#controle-op-botsingen>Controle op botsingen</a></li><li><a href=#sneller-vallen>Sneller vallen</a></li><li><a href=#een-stuk-terugzetten>Een stuk terugzetten</a></li><li><a href=#een-reeks-met-volgende-stukken>Een reeks met volgende stukken</a></li><li><a href=#een-nieuw-stuk-uit-de-reeks>Een nieuw stuk uit de reeks</a></li><li><a href=#gevallen-stukken-bewaren>Gevallen stukken bewaren</a></li><li><a href=#een-nieuw-stuk-direct-na-landing-vorige>Een nieuw stuk direct na landing vorige</a></li><li><a href=#volle-rijen-vinden>Volle rijen vinden</a></li><li><a href=#volle-rijen-verwijderen>Volle rijen verwijderen</a></li><li><a href=#game-over>Game over</a></li><li><a href=#het-rooster-verplaatsen-in-het-window>Het rooster verplaatsen in het window</a></li><li><a href=#het-volgende-stuk>Het volgende stuk</a></li><li><a href=#het-spel-herstarten>Het spel herstarten</a></li></ul></li><li><a href=#bron>Bron</a></li></ul></nav></aside><p>We gaan met 2D game framework Löve2D een spel met vallende blokken maken.</p><p><img src=imgs/1.png alt="voorbeeld van het spel"></p><h2 id=de-regels>De regels</h2><p><img src=imgs/2.png alt="voorbeeld van de stukken"></p><p>Er zijn 7 verschillende stukken. Elk stuk bestaat uit 4 kleinere blokken.</p><p>Stukken vallen vanaf boven het speelveld. De speler kan het stuk verplaatsen naar links en rechts en het stuk
ronddraaien. Als een stuk is geland, valt er een volgend stuk.</p><p>Boven het speelveld wordt de vorm van het volgende stuk dat gaat vallen getoond.</p><p><img src=imgs/3.png alt="voorbeeld van de vorm van het volgende stuk"></p><p>Als er een volledig gesloten rij van blokken is gevormd van links naar rechts op het speelveld, verdwijnt het
en schuiven alle blokken erboven 1 rij naar beneden.</p><p>Het spel eindigt als een nieuw stuk direct op een al liggend stuk terecht zou komen.</p><h3 id=controls>Controls</h3><table><thead><tr><th><strong>toets</strong></th><th><strong>actie</strong></th></tr></thead><tbody><tr><td>pijl links</td><td>beweeg links</td></tr><tr><td>pijl rechts</td><td>beweeg rechts</td></tr><tr><td>z</td><td>draai tegen de klok in</td></tr><tr><td>x</td><td>draai met de klok mee</td></tr><tr><td>c</td><td>val op liggende blokken</td></tr></tbody></table><h2 id=overzicht>Overzicht</h2><p>Een rooster bevat de blokken die al zijn gevallen. Een vak in het rooster kan leeg zijn of gevuld met een
blok van een bepaalde kleur.</p><p>Tekst <code>' '</code> (spatie) is een leeg vak zonder blok en <code>'i'</code>, <code>'j'</code>, <code>'l'</code>, <code>'o'</code>, <code>'s'</code>, <code>'t'</code> en <code>'z'</code> zijn vakken met
een blok met verschillende kleuren.</p><p><img src=imgs/4.png alt="voorbeeld het rooster met daarin de blokken"></p><p>Alle verschillende stukken worden in het rooster opgeslagen met de hoe ze gedraaid waren toen ze vielen.</p><p><img src=imgs/5.png alt="voorbeeld van gedraaide stukken"></p><p>Een vallend stuk wordt opgeslagen met een getal dat aangeeft welk type stuk het is, hoe het gedraaid is
en wat de positie is in het rooster. Voor de positie worden X en Y waarden gebruikt.</p><p>Een nieuw stuk wordt boven het rooster getoond, maar niet als er te weinig voor is door al gestapelde blokken. In dat geval is
het spel afgelopen.</p><p>De speler kan de stukken verplaatsen naar links en rechts, maar niet als het een stuk dat al gestapeld is overlapt. Een
stuk kan ook niet buiten het rooster verplaatst worden.</p><p>Als er wat tijd is verlopen, verplaatst het stuk één rij blokken naar beneden. Dit gebeurt alleen als de nieuwe positie
van het stuk niet overlapt met al gestapelde blokken en niet buiten het rooster valt.</p><p>Als knop <code>z</code> of <code>x</code> wordt ingedrukt, draait het stuk tegen de klok in of met de klok mee. Maar niet als het stuk dan
overlapt met al gestapelde blokken of buiten het rooster valt.</p><p>Als de val knop <code>c</code> wordt ingedrukt, gaat het stuk sneller naar beneden, totdat het landt op al geplaatste stukken.</p><p>Als het stuk is geland, wordt een nieuw stuk gemaakt boven het rooster.</p><p>De 7 verschillende stukken worden in een willekeurige volgorde aangeboden.</p><h2 id=programmeren>Programmeren</h2><p>Voor het programmeren zelf heb je alleen een editor zoals bijvoorbeeld Visual Studio Code nodig. Maar om het programma
uit te voeren, heb je het Löve2D programma nodig. Deze kun je downloaden vanaf de site
<a href=https://love2d.org/>https://love2d.org/</a>. Kijk voor meer informatie over het installeren op <a href=/instructies/love2d-shooter/#installatie-l%C3%B6ve>/instructies/love2d-shooter/#installatie-löve</a>.</p><p>Als je Löve2D hebt geïnstalleerd, open je een terminal of cmd op Windows en zou je <code>love.exe</code> moeten kunnen starten.</p><p>Bij het starten van het script is het belangrijk om te onthouden dat je de directory meegeeft aan Love en niet <code>main.lua</code>.<br>Dus:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>love.exe blocks/
</span></span></code></pre></td></tr></table></div></div><p>Hierbij bevat <code>blocks</code> het bestand <code>main.lua</code> waarin we de code schrijven van de volgende hoofdstukken.</p><h3 id=het-venster-tekenen>Het venster tekenen</h3><p>We beginnen in een lege <code>conf.lua</code> met:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>conf</span>(t)
</span></span><span style=display:flex><span>    t.window.width <span style=color:#000;font-weight:700>=</span> <span style=color:#099>20</span> <span style=color:#000;font-weight:700>*</span> <span style=color:#099>14</span>
</span></span><span style=display:flex><span>    t.window.height <span style=color:#000;font-weight:700>=</span> <span style=color:#099>20</span> <span style=color:#000;font-weight:700>*</span> <span style=color:#099>25</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/conf.lua>conf.lua</a></sup></p><p>en een lege <code>main.lua</code>.</p><p>Als je nu <code>love.exe blocks/</code> uitvoert, krijg je een leeg rechthoekig scherm.</p><h3 id=het-rooster-tekenen>Het rooster tekenen</h3><p>Voor ieder blok in het speelveld wordt een vierkant getekend.</p><p>Zet de volgende code in <code>main.lua</code>:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>draw</span>()
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#099>18</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#099>10</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> blockSize <span style=color:#000;font-weight:700>=</span> <span style=color:#099>20</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> blockDrawSize <span style=color:#000;font-weight:700>=</span> blockSize <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>            love.graphics.rectangle(
</span></span><span style=display:flex><span>                <span style=color:#d14>&#39;fill&#39;</span>,
</span></span><span style=display:flex><span>                (x <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>) <span style=color:#000;font-weight:700>*</span> blockSize,
</span></span><span style=display:flex><span>                (y <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>) <span style=color:#000;font-weight:700>*</span> blockSize,
</span></span><span style=display:flex><span>                blockDrawSize,
</span></span><span style=display:flex><span>                blockDrawSize
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_1>main.lua</a></sup>
<img src=imgs/6.png alt="het rooster"></p><h3 id=het-rooster-inkleuren>Het rooster inkleuren</h3><p>De achtergrondkleur en de kleur van een leeg vak worden ingesteld.</p><p>Voeg functie <code>love.load()</code> toe aan <code>main.lua</code>, boven functie <code>love.draw()</code> die er al in staat:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>    love.graphics.setBackgroundColor(<span style=color:#099>255</span>, <span style=color:#099>255</span>, <span style=color:#099>255</span>)
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_2>main.lua</a></sup></p><p>Pas nu functie <code>love.draw()</code> aan:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>draw</span>()
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#099>18</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#099>10</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>-- voeg toe:</span>
</span></span><span style=display:flex><span>            love.graphics.setColor(<span style=color:#099>.87</span>, <span style=color:#099>.87</span>, <span style=color:#099>.87</span>)
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> blockSize <span style=color:#000;font-weight:700>=</span> <span style=color:#099>20</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> blockDrawSize <span style=color:#000;font-weight:700>=</span> blockSize <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>            love.graphics.rectangle(
</span></span><span style=display:flex><span>                <span style=color:#d14>&#39;fill&#39;</span>,
</span></span><span style=display:flex><span>                (x <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>) <span style=color:#000;font-weight:700>*</span> blockSize,
</span></span><span style=display:flex><span>                (y <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>) <span style=color:#000;font-weight:700>*</span> blockSize,
</span></span><span style=display:flex><span>                blockDrawSize,
</span></span><span style=display:flex><span>                blockDrawSize
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_3>main.lua</a></sup>
<img src=imgs/7.png alt="het ingekleurde rooster"></p><h3 id=de-gevallen-blokken-bewaren>De gevallen blokken bewaren</h3><p>Het rooster voor de gevallen blokken is gemaakt en elk blok wordt als <code>' '</code> (spatie) gezet wat betekend
dat het vak leeg is.</p><p>We gaan de breedte en hoogte van het rooster gebruiken om de blokken te tekenen, dus we zetten de waarden 10 en 18 in
variabelen.</p><p>Pas de functies aan met:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>    love.graphics.setBackgroundColor(<span style=color:#099>255</span>, <span style=color:#099>255</span>, <span style=color:#099>255</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- voeg onderstaande toe:</span>
</span></span><span style=display:flex><span>    gridXCount <span style=color:#000;font-weight:700>=</span> <span style=color:#099>10</span>
</span></span><span style=display:flex><span>    gridYCount <span style=color:#000;font-weight:700>=</span> <span style=color:#099>18</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    inert <span style=color:#000;font-weight:700>=</span> {}
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        inert[y] <span style=color:#000;font-weight:700>=</span> {}
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            inert[y][x] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39; &#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>draw</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#099>18</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#099>10</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- door:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_4>main.lua</a></sup></p><h3 id=de-kleur-van-de-blokken>De kleur van de blokken</h3><p>De kleur van de blokken die we gaan tekenen wordt bepaald door het type.</p><p>Om dit testen, zetten we verschillende typen blokken in het rooster.<br>De types geven we aan met een letter: <code>i</code>, <code>j</code>, <code>l</code>, <code>o</code>.. etc. Vervolgens koppelen we een kleur aan elk type.<br>Bijvoorbeeld:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>i <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.47</span>, <span style=color:#099>.76</span>, <span style=color:#099>.94</span>},
</span></span></code></pre></td></tr></table></div></div><p>Maak de volgende aanpassingen:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- voeg toe:</span>
</span></span><span style=display:flex><span>    inert[<span style=color:#099>18</span>][<span style=color:#099>1</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;i&#39;</span>
</span></span><span style=display:flex><span>    inert[<span style=color:#099>17</span>][<span style=color:#099>2</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;j&#39;</span>
</span></span><span style=display:flex><span>    inert[<span style=color:#099>16</span>][<span style=color:#099>3</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;l&#39;</span>
</span></span><span style=display:flex><span>    inert[<span style=color:#099>15</span>][<span style=color:#099>4</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;o&#39;</span>
</span></span><span style=display:flex><span>    inert[<span style=color:#099>14</span>][<span style=color:#099>5</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;s&#39;</span>
</span></span><span style=display:flex><span>    inert[<span style=color:#099>13</span>][<span style=color:#099>6</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;t&#39;</span>
</span></span><span style=display:flex><span>    inert[<span style=color:#099>12</span>][<span style=color:#099>7</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;z&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>draw</span>()
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>            love.graphics.setColor(<span style=color:#099>.87</span>, <span style=color:#099>.87</span>, <span style=color:#099>.87</span>)
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>-- door dit:</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> colors <span style=color:#000;font-weight:700>=</span> {
</span></span><span style=display:flex><span>                [<span style=color:#d14>&#39; &#39;</span>] <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.87</span>, <span style=color:#099>.87</span>, <span style=color:#099>.87</span>},
</span></span><span style=display:flex><span>                i <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.47</span>, <span style=color:#099>.76</span>, <span style=color:#099>.94</span>},
</span></span><span style=display:flex><span>                j <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.93</span>, <span style=color:#099>.91</span>, <span style=color:#099>.42</span>},
</span></span><span style=display:flex><span>                l <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.49</span>, <span style=color:#099>.85</span>, <span style=color:#099>.76</span>},
</span></span><span style=display:flex><span>                o <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.92</span>, <span style=color:#099>.69</span>, <span style=color:#099>.47</span>},
</span></span><span style=display:flex><span>                s <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.83</span>, <span style=color:#099>.54</span>, <span style=color:#099>.93</span>},
</span></span><span style=display:flex><span>                t <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.97</span>, <span style=color:#099>.58</span>, <span style=color:#099>.77</span>},
</span></span><span style=display:flex><span>                z <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.66</span>, <span style=color:#099>.83</span>, <span style=color:#099>.46</span>},
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> block <span style=color:#000;font-weight:700>=</span> inert[y][x]
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> color <span style=color:#000;font-weight:700>=</span> colors[block]
</span></span><span style=display:flex><span>            love.graphics.setColor(color)
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>-- tot hier toe.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> blockSize <span style=color:#000;font-weight:700>=</span> <span style=color:#099>20</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> blockDrawSize <span style=color:#000;font-weight:700>=</span> blockSize <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>            love.graphics.rectangle(
</span></span><span style=display:flex><span>                <span style=color:#d14>&#39;fill&#39;</span>,
</span></span><span style=display:flex><span>                (x <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>) <span style=color:#000;font-weight:700>*</span> blockSize,
</span></span><span style=display:flex><span>                (y <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>) <span style=color:#000;font-weight:700>*</span> blockSize,
</span></span><span style=display:flex><span>                blockDrawSize,
</span></span><span style=display:flex><span>                blockDrawSize
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_5>main.lua</a></sup>
<img src=imgs/8.png alt="het rooster met blokken in de verschillende kleuren"></p><h3 id=de-stukken-opslaan>De stukken opslaan</h3><p>Een puzzelstuk bestaat uit verschillende blokken. We slaan de variaties van puzzelstuk op als een nieuw raster.
In dit raster kunnen we ook de gedraaide versies van het puzzelstuk bewaren.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>{
</span></span><span style=display:flex><span>    {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>    {<span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39;i&#39;</span>},
</span></span><span style=display:flex><span>    {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>    {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>Elk puzzelstuk kan 4 varianten hebben, want hij kan 4 kanten op gedraaid zijn.
We slaan dus 4 varianten op voor elk puzzelstuk. In het geval van de rechte lijn zijn dit er eigenlijk maar 2.
Deze vorm is namelijk symmetrisch over 1 as.
De kubus heeft maar 1 variant. Deze is namelijk symmetrisch over 2 assen.
De rechte lijn ziet er als volgt uit:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>{
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>        {<span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39;i&#39;</span>},
</span></span><span style=display:flex><span>        {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>        {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>        {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>        {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>        {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>Dit zijn alle puzzelstukken; voeg deze toe aan functie <code>love.load()</code>:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">132
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>    love.graphics.setBackgroundColor(<span style=color:#099>255</span>, <span style=color:#099>255</span>, <span style=color:#099>255</span>)
</span></span><span style=display:flex><span>    pieceStructures <span style=color:#000;font-weight:700>=</span> {
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39;i&#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;i&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;o&#39;</span>, <span style=color:#d14>&#39;o&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;o&#39;</span>, <span style=color:#d14>&#39;o&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;j&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;l&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;t&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;s&#39;</span>, <span style=color:#d14>&#39;s&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;s&#39;</span>, <span style=color:#d14>&#39;s&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;s&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;s&#39;</span>, <span style=color:#d14>&#39;s&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;s&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;z&#39;</span>, <span style=color:#d14>&#39;z&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;z&#39;</span>, <span style=color:#d14>&#39;z&#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39;z&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;z&#39;</span>, <span style=color:#d14>&#39;z&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39;z&#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>                {<span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>, <span style=color:#d14>&#39; &#39;</span>},
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>    }
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_6>main.lua</a></sup></p><h3 id=het-vallende-stuk-opslaan>Het vallende stuk opslaan</h3><p>Er kan altijd maar een puzzelstuk tegelijkertijd vallen. We kunnen dit puzzelstuk opslaan met de variabelen <code>pieceType</code>
en <code>pieceRotation</code>. <code>pieceType</code> bevat welk stuk het is (lijn, blokje, etc). <code>pieceRotation</code> bevat hoe het stuk gedraaid is.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- voeg toe aan het einde van de functie:</span>
</span></span><span style=display:flex><span>    pieceType <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>    pieceRotation <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_7>main.lua</a></sup></p><h3 id=het-stuk-tekenen>Het stuk tekenen</h3><p>Elk puzzelstuk wordt getekend door langs elk vakje in het rooster te gaan en de blokken een voor een in te kleuren.<br>De kleur is afhankelijk van het type blok.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>draw</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- voeg dit hele stuk code toe onderaan deze functie</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#099>4</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#099>4</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> block <span style=color:#000;font-weight:700>=</span> pieceStructures[pieceType][pieceRotation][y][x]
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>if</span> block <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>local</span> colors <span style=color:#000;font-weight:700>=</span> {
</span></span><span style=display:flex><span>                    i <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.47</span>, <span style=color:#099>.76</span>, <span style=color:#099>.94</span>},
</span></span><span style=display:flex><span>                    j <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.93</span>, <span style=color:#099>.91</span>, <span style=color:#099>.42</span>},
</span></span><span style=display:flex><span>                    l <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.49</span>, <span style=color:#099>.85</span>, <span style=color:#099>.76</span>},
</span></span><span style=display:flex><span>                    o <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.92</span>, <span style=color:#099>.69</span>, <span style=color:#099>.47</span>},
</span></span><span style=display:flex><span>                    s <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.83</span>, <span style=color:#099>.54</span>, <span style=color:#099>.93</span>},
</span></span><span style=display:flex><span>                    t <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.97</span>, <span style=color:#099>.58</span>, <span style=color:#099>.77</span>},
</span></span><span style=display:flex><span>                    z <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.66</span>, <span style=color:#099>.83</span>, <span style=color:#099>.46</span>},
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>local</span> color <span style=color:#000;font-weight:700>=</span> colors[block]
</span></span><span style=display:flex><span>                love.graphics.setColor(color)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>local</span> blockSize <span style=color:#000;font-weight:700>=</span> <span style=color:#099>20</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>local</span> blockDrawSize <span style=color:#000;font-weight:700>=</span> blockSize <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>                love.graphics.rectangle(
</span></span><span style=display:flex><span>                    <span style=color:#d14>&#39;fill&#39;</span>,
</span></span><span style=display:flex><span>                    (x <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>) <span style=color:#000;font-weight:700>*</span> blockSize,
</span></span><span style=display:flex><span>                    (y <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>) <span style=color:#000;font-weight:700>*</span> blockSize,
</span></span><span style=display:flex><span>                    blockDrawSize,
</span></span><span style=display:flex><span>                    blockDrawSize
</span></span><span style=display:flex><span>                )
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_8>main.lua</a></sup></p><p>En verwijder dit stuk uit functie <code>love.load()</code>:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>    inert[<span style=color:#099>18</span>][<span style=color:#099>1</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;i&#39;</span>
</span></span><span style=display:flex><span>    inert[<span style=color:#099>17</span>][<span style=color:#099>2</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;j&#39;</span>
</span></span><span style=display:flex><span>    inert[<span style=color:#099>16</span>][<span style=color:#099>3</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;l&#39;</span>
</span></span><span style=display:flex><span>    inert[<span style=color:#099>15</span>][<span style=color:#099>4</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;o&#39;</span>
</span></span><span style=display:flex><span>    inert[<span style=color:#099>14</span>][<span style=color:#099>5</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;s&#39;</span>
</span></span><span style=display:flex><span>    inert[<span style=color:#099>13</span>][<span style=color:#099>6</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;t&#39;</span>
</span></span><span style=display:flex><span>    inert[<span style=color:#099>12</span>][<span style=color:#099>7</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;z&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_9>main.lua</a></sup></p><p><img src=imgs/9.png alt="het rooster"></p><h4 id=code-vereenvoudigen>Code vereenvoudigen</h4><p>De code voor het tekenen van een stilstaand blok lijkt erg op de code voor het tekenen van een vallend blok.
We voegen daarom de functie <code>drawBlock</code> toe en verplaatsen de code in de twee for-loops er naartoe.</p><p>Vervang alle code in <code>love.draw()</code> met deze code:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>draw</span>()
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>local</span> <span style=color:#000;font-weight:700>function</span> <span style=color:#900;font-weight:700>drawBlock</span>(block, x, y)
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>local</span> colors <span style=color:#000;font-weight:700>=</span> {
</span></span><span style=display:flex><span>            [<span style=color:#d14>&#39; &#39;</span>] <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.87</span>, <span style=color:#099>.87</span>, <span style=color:#099>.87</span>},
</span></span><span style=display:flex><span>            i <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.47</span>, <span style=color:#099>.76</span>, <span style=color:#099>.94</span>},
</span></span><span style=display:flex><span>            j <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.93</span>, <span style=color:#099>.91</span>, <span style=color:#099>.42</span>},
</span></span><span style=display:flex><span>            l <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.49</span>, <span style=color:#099>.85</span>, <span style=color:#099>.76</span>},
</span></span><span style=display:flex><span>            o <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.92</span>, <span style=color:#099>.69</span>, <span style=color:#099>.47</span>},
</span></span><span style=display:flex><span>            s <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.83</span>, <span style=color:#099>.54</span>, <span style=color:#099>.93</span>},
</span></span><span style=display:flex><span>            t <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.97</span>, <span style=color:#099>.58</span>, <span style=color:#099>.77</span>},
</span></span><span style=display:flex><span>            z <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.66</span>, <span style=color:#099>.83</span>, <span style=color:#099>.46</span>},
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>local</span> color <span style=color:#000;font-weight:700>=</span> colors[block]
</span></span><span style=display:flex><span>        love.graphics.setColor(color)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>local</span> blockSize <span style=color:#000;font-weight:700>=</span> <span style=color:#099>20</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>local</span> blockDrawSize <span style=color:#000;font-weight:700>=</span> blockSize <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        love.graphics.rectangle(
</span></span><span style=display:flex><span>            <span style=color:#d14>&#39;fill&#39;</span>,
</span></span><span style=display:flex><span>            (x <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>) <span style=color:#000;font-weight:700>*</span> blockSize,
</span></span><span style=display:flex><span>            (y <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>) <span style=color:#000;font-weight:700>*</span> blockSize,
</span></span><span style=display:flex><span>            blockDrawSize,
</span></span><span style=display:flex><span>            blockDrawSize
</span></span><span style=display:flex><span>        )
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            drawBlock(inert[y][x], x, y)
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#099>4</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#099>4</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> block <span style=color:#000;font-weight:700>=</span> pieceStructures[pieceType][pieceRotation][y][x]
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>if</span> block <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                drawBlock(block, x, y)
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_10>main.lua</a></sup></p><h3 id=het-stuk-draaien>Het stuk draaien</h3><p>Wanneer we op de x-toets drukken willen wat dat het stuk draait.</p><p><code>pieceRotation</code> bevat een getal dat de draaiing aangeeft. 1 is geen draaiing, 2 is 90° met de klok mee en 3 is 180°.</p><p>Als het rotation getal hoger is dan de verschillende draai posities (4, 2 of 1). Dan wordt het getal terug gezet naar 1.</p><p>Als we op z-toets drukken willen we dat het het stuk de andere kant op draait. Dit doen we door de waarde in
<code>pieceRotation</code> met 1 te verlagen.</p><p>Als het getal lager wordt dan 0. Zetten we het weer terug naar 1.</p><p>Voeg dit stuk code toe onderaan het bestand:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>keypressed</span>(key)
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>if</span> key <span style=color:#000;font-weight:700>==</span> <span style=color:#d14>&#39;x&#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        pieceRotation <span style=color:#000;font-weight:700>=</span> pieceRotation <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>if</span> pieceRotation <span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>#</span>pieceStructures[pieceType] <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>            pieceRotation <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>elseif</span> key <span style=color:#000;font-weight:700>==</span> <span style=color:#d14>&#39;z&#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        pieceRotation <span style=color:#000;font-weight:700>=</span> pieceRotation <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>if</span> pieceRotation <span style=color:#000;font-weight:700>&lt;</span> <span style=color:#099>1</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>            pieceRotation <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>#</span>pieceStructures[pieceType]
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_11>main.lua</a></sup></p><p><img src=imgs/10.png alt="het rooster"></p><h3 id=de-stukken-testen>De stukken testen</h3><p>We willen graag de code testen. Daarom voegen we toe dat we het puzzelstuk kunnen veranderen met de omhoog en omlaag pijltjestoetsen.<br>De tijdelijke code onderaan functie <code>love.keypressed(key)</code>:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>keypressed</span>(key)
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- vervang laatste twee &#34;end&#34; regels met onderstaande tijdelijke code:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>elseif</span> key <span style=color:#000;font-weight:700>==</span> <span style=color:#d14>&#39;down&#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        pieceType <span style=color:#000;font-weight:700>=</span> pieceType <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>if</span> pieceType <span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000;font-weight:700>#</span>pieceStructures <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>            pieceType <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        pieceRotation <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>elseif</span> key <span style=color:#000;font-weight:700>==</span> <span style=color:#d14>&#39;up&#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        pieceType <span style=color:#000;font-weight:700>=</span> pieceType <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>if</span> pieceType <span style=color:#000;font-weight:700>&lt;</span> <span style=color:#099>1</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>            pieceType <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>#</span>pieceStructures
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        pieceRotation <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_12>main.lua</a></sup></p><p><img src=imgs/11.png alt="het rooster">
Als je hebt gezien dat de stukken veranderen, kun je de net toegevoegde code weer verwijderen.</p><h3 id=de-positie-van-het-vallende-stuk-bijhouden>De positie van het vallende stuk bijhouden</h3><p>We bewaren de positie van het vallende puzzelstuk op in het rooster en we tekenen het puzzelstuk op die positie.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- voeg deze regels toe onderaan deze functie</span>
</span></span><span style=display:flex><span>    pieceX <span style=color:#000;font-weight:700>=</span> <span style=color:#099>3</span>
</span></span><span style=display:flex><span>    pieceY <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p>En het tekenen van het blok op de juiste positie:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>draw</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>                drawBlock(block, x, y)
</span></span><span style=display:flex><span>                
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- met:</span>
</span></span><span style=display:flex><span>                drawBlock(block, x <span style=color:#000;font-weight:700>+</span> pieceX, y <span style=color:#000;font-weight:700>+</span> pieceY)
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_13>main.lua</a></sup></p><p><img src=imgs/12.png alt="het rooster"></p><h3 id=het-stuk-verplaatsen>Het stuk verplaatsen</h3><p>We gaan nu de linker en rechter pijltjestoetsen gebruiken om het stuk te verplaatsen.</p><p>Voeg de volgende regels toe onderaan <code>love.keypressed(key)</code>:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>keypressed</span>(key)
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- vervang de een na laatste &#34;end&#34; met: </span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>elseif</span> key <span style=color:#000;font-weight:700>==</span> <span style=color:#d14>&#39;left&#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        pieceX <span style=color:#000;font-weight:700>=</span> pieceX <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>elseif</span> key <span style=color:#000;font-weight:700>==</span> <span style=color:#d14>&#39;right&#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        pieceX <span style=color:#000;font-weight:700>=</span> pieceX <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_14>main.lua</a></sup></p><p><img src=imgs/13.png alt="het rooster"></p><h3 id=timer>Timer</h3><p>We willen dat elke 0.5 seconden het puzzelstuk valt.</p><p>We maken daarom een <code>timer</code> variabele, die we steeds met <code>dt</code> (delta time: de tijd die verstreken is) verhogen.</p><p>Als de waarde van <code>timer</code> gelijk aan 0.5 of hoger is, zetten we het terug naar 0.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- onderaan deze functie:</span>
</span></span><span style=display:flex><span>    timer <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p>En een nieuwe functie onderaan het bestand:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>update</span>(dt)
</span></span><span style=display:flex><span>    timer <span style=color:#000;font-weight:700>=</span> timer <span style=color:#000;font-weight:700>+</span> dt
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>if</span> timer <span style=color:#000;font-weight:700>&gt;=</span> <span style=color:#099>0.5</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        timer <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>-- tijdelijk; kijk naar de console/cmd window voor een tick elke halve seconde</span>
</span></span><span style=display:flex><span>        print(<span style=color:#d14>&#39;tick&#39;</span>)
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_15>main.lua</a></sup><br>Na het testen mag je <code>print('tick')</code> weer weghalen.</p><h3 id=stukken-vallen>Stukken vallen</h3><p>We gebruiken de timer om het stuk elke 0.5 seconden verder naar beneden te laten vallen.<br>De waarde van <code>pieceY</code> wordt met 1 verhoogd om het stuk 1 regel lager te tekenen:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>update</span>(dt)
</span></span><span style=display:flex><span>    timer <span style=color:#000;font-weight:700>=</span> timer <span style=color:#000;font-weight:700>+</span> dt
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>if</span> timer <span style=color:#000;font-weight:700>&gt;=</span> <span style=color:#099>0.5</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        timer <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>-- voeg toe:</span>
</span></span><span style=display:flex><span>        pieceY <span style=color:#000;font-weight:700>=</span> pieceY <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_16>main.lua</a></sup></p><p><img src=imgs/14.png alt="het rooster"></p><h3 id=linker-rechter-en-onderrand-van-het-rooster>Linker, rechter en onderrand van het rooster</h3><p>We willen voorkomen dat de puzzelstukken links of rechts van het scherm af kunnen bewegen. Daarom checken we altijd
eerst of alle blokken nog wel in het speelveld zijn.</p><p>We willen deze check vaker uitvoeren, daarom stoppen we het in een functie. Dan kunnen we het makkelijk herbruiken.
De functie heeft de positie en rotatie nodig. De functie geeft <code>true</code> of <code>false</code> terug om aan te geven of we mogen bewegen of draaien.</p><p>We noemen de functie: <code>canpieceMove(testX, testY, testRotation)</code>. Voor nu zal de functie alleen <code>true</code> teruggeven,
dan kunnen we namelijk de functie in de rest van de code verwerken.</p><p>We passen de code aan zodat de check functie eerst wordt uitgevoerd, voordat we bewegen of draaien.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- voeg aan het einde van de functie toe:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>function</span> <span style=color:#900;font-weight:700>canPieceMove</span>(testX, testY, testRotation)
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>true</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>update</span>(dt)
</span></span><span style=display:flex><span>    timer <span style=color:#000;font-weight:700>=</span> timer <span style=color:#000;font-weight:700>+</span> dt
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>if</span> timer <span style=color:#000;font-weight:700>&gt;=</span> <span style=color:#099>0.5</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        timer <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>        pieceY <span style=color:#000;font-weight:700>=</span> pieceY <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>-- door:</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>local</span> testY <span style=color:#000;font-weight:700>=</span> pieceY <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>if</span> canPieceMove(pieceX, testY, pieceRotation) <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>            pieceY <span style=color:#000;font-weight:700>=</span> testY
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>keypressed</span>(key)
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>elseif</span> key <span style=color:#000;font-weight:700>==</span> <span style=color:#d14>&#39;left&#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>        pieceX <span style=color:#000;font-weight:700>=</span> pieceX <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>-- door:</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>local</span> testX <span style=color:#000;font-weight:700>=</span> pieceX <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>if</span> canPieceMove(testX, pieceY, pieceRotation) <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>            pieceX <span style=color:#000;font-weight:700>=</span> testX
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>elseif</span> key <span style=color:#000;font-weight:700>==</span> <span style=color:#d14>&#39;right&#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>        pieceX <span style=color:#000;font-weight:700>=</span> pieceX <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>-- door:        </span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>local</span> testX <span style=color:#000;font-weight:700>=</span> pieceX <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>if</span> canPieceMove(testX, pieceY, pieceRotation) <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>            pieceX <span style=color:#000;font-weight:700>=</span> testX
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_17>main.lua</a></sup></p><h4 id=links>Links</h4><p>We beginnen met links checken. Als het blok niet leeg is, en de <code>x</code> positie lager is dan 1, geeft de functie <code>false</code> terug.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- vervang functie canPieceMove in zijn geheel door:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>function</span> <span style=color:#900;font-weight:700>canPieceMove</span>(testX, testY, testRotation)
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#099>4</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#099>4</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>if</span> pieceStructures[pieceType][testRotation][y][x] <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>and</span> (testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&lt;</span> <span style=color:#099>1</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>false</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>true</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_18>main.lua</a></sup></p><h4 id=code-vereenvoudigen-1>Code vereenvoudigen</h4><p>Het aantal blokken van elk puzzelstuk op de X en Y worden herbruikt uit het tekenen. We stoppen deze waardes in variabelen.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- vervang functie canPieceMove weer, maar nu in zijn geheel door:</span>
</span></span><span style=display:flex><span>    pieceXCount <span style=color:#000;font-weight:700>=</span> <span style=color:#099>4</span>
</span></span><span style=display:flex><span>    pieceYCount <span style=color:#000;font-weight:700>=</span> <span style=color:#099>4</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>function</span> <span style=color:#900;font-weight:700>canPieceMove</span>(testX, testY, testRotation)
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>if</span> pieceStructures[pieceType][testRotation][y][x] <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>and</span> (testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&lt;</span> <span style=color:#099>1</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>false</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>true</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>draw</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#099>4</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#099>4</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- door:    </span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> block <span style=color:#000;font-weight:700>=</span> pieceStructures[pieceType][pieceRotation][y][x]
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>if</span> block <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                drawBlock(block, x <span style=color:#000;font-weight:700>+</span> pieceX, y <span style=color:#000;font-weight:700>+</span> pieceY)
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_19>main.lua</a></sup></p><h4 id=rechts>Rechts</h4><p>We gaan nu rechts checken. Als het blok niet leeg is, en de <code>x</code> positie groter is dan het grid, geeft de functie <code>false</code> terug.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>function</span> <span style=color:#900;font-weight:700>canPieceMove</span>(testX, testY, testRotation)
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                <span style=color:#998;font-style:italic>-- vervang</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>if</span> pieceStructures[pieceType][testRotation][y][x] <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>and</span> (testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&lt;</span> <span style=color:#099>1</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>false</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                <span style=color:#998;font-style:italic>-- door:</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>if</span> pieceStructures[pieceType][testRotation][y][x] <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>and</span> 
</span></span><span style=display:flex><span>                    ((testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&lt;</span> <span style=color:#099>1</span> <span style=color:#000;font-weight:700>or</span> (testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&gt;</span> gridXCount)
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>false</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>true</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_20>main.lua</a></sup></p><h4 id=onderkant>Onderkant</h4><p>Het puzzelstuk moet stoppen als het de onderkant aanraak. Als de onderkant van het puzzelstuk lager is dan de onderkant
van het veld geeft de functie <code>false</code> terug.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>function</span> <span style=color:#900;font-weight:700>canPieceMove</span>(testX, testY, testRotation)
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>if</span> pieceStructures[pieceType][testRotation][y][x] <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>and</span> 
</span></span><span style=display:flex><span>                    ((testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&lt;</span> <span style=color:#099>1</span> <span style=color:#000;font-weight:700>or</span> (testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&gt;</span> gridXCount)
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>false</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                <span style=color:#998;font-style:italic>-- door:</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>if</span> pieceStructures[pieceType][testRotation][y][x] <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>and</span> 
</span></span><span style=display:flex><span>                    (
</span></span><span style=display:flex><span>                        (testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&lt;</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>or</span> (testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&gt;</span> gridXCount
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>or</span> (testY <span style=color:#000;font-weight:700>+</span> y) <span style=color:#000;font-weight:700>&gt;</span> gridYCount
</span></span><span style=display:flex><span>                    ) 
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>false</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>true</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_21>main.lua</a></sup></p><h3 id=controle-op-botsingen>Controle op botsingen</h3><p>Als er al een ander puzzelstuk is, kan het puzzelstuk daar niet naartoe bewegen. Daarom checken we of er al een blok is
op die plek. Als dat zo is, geeft de functie ook <code>false</code> terug.</p><p>We testen dit door zelf een blokje op het rooster te zetten.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>function</span> <span style=color:#900;font-weight:700>canPieceMove</span>(testX, testY, testRotation)
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>if</span> pieceStructures[pieceType][testRotation][y][x] <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>and</span>
</span></span><span style=display:flex><span>                    <span style=color:#998;font-style:italic>-- vervang: </span>
</span></span><span style=display:flex><span>                    (
</span></span><span style=display:flex><span>                        (testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&lt;</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>or</span> (testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&gt;</span> gridXCount
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>or</span> (testY <span style=color:#000;font-weight:700>+</span> y) <span style=color:#000;font-weight:700>&gt;</span> gridYCount
</span></span><span style=display:flex><span>                    ) 
</span></span><span style=display:flex><span>                    <span style=color:#998;font-style:italic>-- door:</span>
</span></span><span style=display:flex><span>                    (
</span></span><span style=display:flex><span>                        (testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&lt;</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>or</span> (testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&gt;</span> gridXCount
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>or</span> (testY <span style=color:#000;font-weight:700>+</span> y) <span style=color:#000;font-weight:700>&gt;</span> gridYCount
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>or</span> inert[testY <span style=color:#000;font-weight:700>+</span> y][testX <span style=color:#000;font-weight:700>+</span> x] <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span>
</span></span><span style=display:flex><span>                    )
</span></span><span style=display:flex><span>                    <span style=color:#998;font-style:italic>-- </span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>false</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>true</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- tijdelijk, om toegevoegde voorwaarde te testen</span>
</span></span><span style=display:flex><span>    inert[<span style=color:#099>8</span>][<span style=color:#099>5</span>] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;z&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_22>main.lua</a></sup></p><p>Als het stuk valt, wordt het geblokkeerd door het blok. Schuif het stuk eens naar links of rechts. Wat gebeurt er?</p><p>Verwijder na het testen de tijdelijke code.</p><p><img src=imgs/15.png alt="het rooster"></p><h4 id=code-vereenvoudigen-2>Code vereenvoudigen</h4><p>De posities van de blokken die we testen kunnen we herbruiken. We stoppen deze in variabelen.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>function</span> <span style=color:#900;font-weight:700>canPieceMove</span>(testX, testY, testRotation)
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>if</span> pieceStructures[pieceType][testRotation][y][x] <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>and</span>
</span></span><span style=display:flex><span>                    (
</span></span><span style=display:flex><span>                        (testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&lt;</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>or</span> (testX <span style=color:#000;font-weight:700>+</span> x) <span style=color:#000;font-weight:700>&gt;</span> gridXCount
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>or</span> (testY <span style=color:#000;font-weight:700>+</span> y) <span style=color:#000;font-weight:700>&gt;</span> gridYCount
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>or</span> inert[testY <span style=color:#000;font-weight:700>+</span> y][testX <span style=color:#000;font-weight:700>+</span> x] <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span>
</span></span><span style=display:flex><span>                    )
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>false</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                <span style=color:#998;font-style:italic>-- door:                </span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>local</span> testBlockX <span style=color:#000;font-weight:700>=</span> testX <span style=color:#000;font-weight:700>+</span> x
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>local</span> testBlockY <span style=color:#000;font-weight:700>=</span> testY <span style=color:#000;font-weight:700>+</span> y
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>if</span> pieceStructures[pieceType][testRotation][y][x] <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>and</span> 
</span></span><span style=display:flex><span>                    (
</span></span><span style=display:flex><span>                        testBlockX <span style=color:#000;font-weight:700>&lt;</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>or</span> testBlockX <span style=color:#000;font-weight:700>&gt;</span> gridXCount
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>or</span> testBlockY <span style=color:#000;font-weight:700>&gt;</span> gridYCount
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>or</span> inert[testBlockY][testBlockX] <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span>
</span></span><span style=display:flex><span>                    )
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>false</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>return</span> <span style=color:#000;font-weight:700>true</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_23>main.lua</a></sup></p><h3 id=sneller-vallen>Sneller vallen</h3><p>Als de speler c indrukt laten we het puzzelstuk snel vallen. Zolang c is ingedrukt verhogen we de Y positie met 1
totdat het puzzelstuk iets raakt.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>keypressed</span>(key)
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- voeg</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>elseif</span> key <span style=color:#000;font-weight:700>==</span> <span style=color:#d14>&#39;c&#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>while</span> canPieceMove(pieceX, pieceY <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>, pieceRotation) <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            pieceY <span style=color:#000;font-weight:700>=</span> pieceY <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- toe voor de één na laatste &#34;end&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_24>main.lua</a></sup></p><h3 id=een-stuk-terugzetten>Een stuk terugzetten</h3><p>Als de timer tikt, en het puzzelstuk niet verder kan bewegen, resetten we de positie en rotatie en type.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>update</span>(dt)
</span></span><span style=display:flex><span>    timer <span style=color:#000;font-weight:700>=</span> timer <span style=color:#000;font-weight:700>+</span> dt
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>if</span> timer <span style=color:#000;font-weight:700>&gt;=</span> <span style=color:#099>0.5</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        timer <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>local</span> testY <span style=color:#000;font-weight:700>=</span> pieceY <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>if</span> canPieceMove(pieceX, testY, pieceRotation) <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>            pieceY <span style=color:#000;font-weight:700>=</span> testY
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>-- door:</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>if</span> canPieceMove(pieceX, testY, pieceRotation) <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>            pieceY <span style=color:#000;font-weight:700>=</span> testY
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>else</span>
</span></span><span style=display:flex><span>            pieceX <span style=color:#000;font-weight:700>=</span> <span style=color:#099>3</span>
</span></span><span style=display:flex><span>            pieceY <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>            pieceType <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>            pieceRotation <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_25>main.lua</a></sup></p><h4 id=code-vereenvoudigen-3>Code vereenvoudigen</h4><p>We resetten het puzzelstuk vaker, dus we stoppen de code in een functie om her te gebruiken.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- voeg toe aan einde van functie </span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>function</span> <span style=color:#900;font-weight:700>newPiece</span>()
</span></span><span style=display:flex><span>        pieceX <span style=color:#000;font-weight:700>=</span> <span style=color:#099>3</span>
</span></span><span style=display:flex><span>        pieceY <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>        pieceType <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        pieceRotation <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    newPiece()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- </span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>update</span>(dt)
</span></span><span style=display:flex><span>    timer <span style=color:#000;font-weight:700>=</span> timer <span style=color:#000;font-weight:700>+</span> dt
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>if</span> timer <span style=color:#000;font-weight:700>&gt;=</span> <span style=color:#099>0.5</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        timer <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>local</span> testY <span style=color:#000;font-weight:700>=</span> pieceY <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>if</span> canPieceMove(pieceX, testY, pieceRotation) <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>            pieceY <span style=color:#000;font-weight:700>=</span> testY
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>else</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>            pieceX <span style=color:#000;font-weight:700>=</span> <span style=color:#099>3</span>
</span></span><span style=display:flex><span>            pieceY <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>            pieceType <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>            pieceRotation <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>-- door:</span>
</span></span><span style=display:flex><span>            newPiece()
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_26>main.lua</a></sup></p><h3 id=een-reeks-met-volgende-stukken>Een reeks met volgende stukken</h3><p>We maken nu een sequence (volgorde) waarin de puzzelstukken gaan vallen. We slaan deze op als een tabel met getallen
die aangeven welk puzzelstuk het is.</p><p>We stoppen alle verschillende nummers/puzzelstuk types in de tabel op een willekeurige positie.</p><p>We testen dit door een reeks te maken en te printen als je op <code>s</code> drukt</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- voeg toe aan einde van functie </span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>function</span> <span style=color:#900;font-weight:700>newSequence</span>()
</span></span><span style=display:flex><span>        sequence <span style=color:#000;font-weight:700>=</span> {}
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> pieceTypeIndex <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, <span style=color:#000;font-weight:700>#</span>pieceStructures <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> position <span style=color:#000;font-weight:700>=</span> love.math.random(<span style=color:#000;font-weight:700>#</span>sequence <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>)
</span></span><span style=display:flex><span>            table.insert(
</span></span><span style=display:flex><span>                sequence,
</span></span><span style=display:flex><span>                position,
</span></span><span style=display:flex><span>                pieceTypeIndex
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    newSequence()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>keypressed</span>(key)
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- tijdelijke code</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>elseif</span> key <span style=color:#000;font-weight:700>==</span> <span style=color:#d14>&#39;s&#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        newSequence()
</span></span><span style=display:flex><span>        print(table.concat(sequence, <span style=color:#d14>&#39;, &#39;</span>))
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_27>main.lua</a></sup></p><p>Resultaat van drukken op knop <code>s</code> in tijdelijke code:</p><p><code>3, 2, 4, 1, 7, 5, 6</code></p><p>Verwijder de tijdelijke code na het testen.</p><h3 id=een-nieuw-stuk-uit-de-reeks>Een nieuw stuk uit de reeks</h3><p>Wanneer er een nieuw puzzelstuk wordt gemaakt, halen we de vorige uit de reeks en herbruiken we het.</p><p>Als de reeks leeg is, is maken we een nieuwe.</p><p><strong>Let op!</strong> We verplaatsen de <code>newPiece</code> functie naar onder de <code>newSequence</code> functie.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>function</span> <span style=color:#900;font-weight:700>newPiece</span>()
</span></span><span style=display:flex><span>        pieceX <span style=color:#000;font-weight:700>=</span> <span style=color:#099>3</span>
</span></span><span style=display:flex><span>        pieceY <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>        pieceType <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        pieceRotation <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- door:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>function</span> <span style=color:#900;font-weight:700>newPiece</span>()
</span></span><span style=display:flex><span>        pieceX <span style=color:#000;font-weight:700>=</span> <span style=color:#099>3</span>
</span></span><span style=display:flex><span>        pieceY <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>        pieceRotation <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        pieceType <span style=color:#000;font-weight:700>=</span> table.remove(sequence)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>if</span> <span style=color:#000;font-weight:700>#</span>sequence <span style=color:#000;font-weight:700>==</span> <span style=color:#099>0</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>            newSequence()
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>    newPiece()
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_28>main.lua</a></sup></p><h3 id=gevallen-stukken-bewaren>Gevallen stukken bewaren</h3><p>Als een stuk is gevallen, worden ze apart gezet en bewaard.</p><p>Elk blok in het stuk wordt bekeken en als het niet leeg is, wordt het blok als bezet gezet.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>update</span>(dt)
</span></span><span style=display:flex><span>    timer <span style=color:#000;font-weight:700>=</span> timer <span style=color:#000;font-weight:700>+</span> dt
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>if</span> timer <span style=color:#000;font-weight:700>&gt;=</span> <span style=color:#099>0.5</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        timer <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>local</span> testY <span style=color:#000;font-weight:700>=</span> pieceY <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>if</span> canPieceMove(pieceX, testY, pieceRotation) <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>            pieceY <span style=color:#000;font-weight:700>=</span> testY
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>else</span>
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>-- voeg toe</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>local</span> block <span style=color:#000;font-weight:700>=</span>
</span></span><span style=display:flex><span>                        pieceStructures[pieceType][pieceRotation][y][x]
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>if</span> block <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                        inert[pieceY <span style=color:#000;font-weight:700>+</span> y][pieceX <span style=color:#000;font-weight:700>+</span> x] <span style=color:#000;font-weight:700>=</span> block
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>            newPiece()
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_29>main.lua</a></sup></p><h3 id=een-nieuw-stuk-direct-na-landing-vorige>Een nieuw stuk direct na landing vorige</h3><p>Als een stuk is gevallen, wordt de timer direct opnieuw ingesteld, zodat een volgende stuk direct wordt gemaakt.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>    pieceY <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>    timer <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    pieceXCount <span style=color:#000;font-weight:700>=</span> <span style=color:#099>4</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- door:    </span>
</span></span><span style=display:flex><span>    pieceY <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>    timer <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>    timerLimit <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0.5</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    pieceXCount <span style=color:#000;font-weight:700>=</span> <span style=color:#099>4</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- </span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>update</span>(dt)
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>    timer <span style=color:#000;font-weight:700>=</span> timer <span style=color:#000;font-weight:700>+</span> dt
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>if</span> timer <span style=color:#000;font-weight:700>&gt;=</span> <span style=color:#099>0.5</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- door:</span>
</span></span><span style=display:flex><span>    timer <span style=color:#000;font-weight:700>=</span> timer <span style=color:#000;font-weight:700>+</span> dt
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>if</span> timer <span style=color:#000;font-weight:700>&gt;=</span> timerLimit <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- </span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>keypressed</span>(key)
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>elseif</span> key <span style=color:#000;font-weight:700>==</span> <span style=color:#d14>&#39;c&#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>while</span> canPieceMove(pieceX, pieceY <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>, pieceRotation) <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            pieceY <span style=color:#000;font-weight:700>=</span> pieceY <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>-- door:        </span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>while</span> canPieceMove(pieceX, pieceY <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>, pieceRotation) <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            pieceY <span style=color:#000;font-weight:700>=</span> pieceY <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>            timer <span style=color:#000;font-weight:700>=</span> timerLimit
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_30>main.lua</a></sup></p><h3 id=volle-rijen-vinden>Volle rijen vinden</h3><p>Elke rij wordt gecontroleerd. Als er geen legen blokken in de rij zijn, is de rij compleet.</p><p>Om te controleren of het werkt worden complete rijen geprint naar de console.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>update</span>(dt)
</span></span><span style=display:flex><span>    timer <span style=color:#000;font-weight:700>=</span> timer <span style=color:#000;font-weight:700>+</span> dt
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>if</span> timer <span style=color:#000;font-weight:700>&gt;=</span> timerLimit <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>        timer <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>local</span> testY <span style=color:#000;font-weight:700>=</span> pieceY <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>if</span> canPieceMove(pieceX, testY, pieceRotation) <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>            pieceY <span style=color:#000;font-weight:700>=</span> testY
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>else</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>local</span> block <span style=color:#000;font-weight:700>=</span>
</span></span><span style=display:flex><span>                        pieceStructures[pieceType][pieceRotation][y][x]
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>if</span> block <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                        inert[pieceY <span style=color:#000;font-weight:700>+</span> y][pieceX <span style=color:#000;font-weight:700>+</span> x] <span style=color:#000;font-weight:700>=</span> block
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>-- voeg toe:            </span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>local</span> complete <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>true</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>if</span> inert[y][x] <span style=color:#000;font-weight:700>==</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                        complete <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>false</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>break</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                
</span></span><span style=display:flex><span>                <span style=color:#998;font-style:italic>-- tijdelijke code</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>if</span> complete <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                    print(<span style=color:#d14>&#39;Complete row: &#39;</span><span style=color:#000;font-weight:700>..</span>y)
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>--            </span>
</span></span><span style=display:flex><span>            newPiece()
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_31>main.lua</a></sup></p><h3 id=volle-rijen-verwijderen>Volle rijen verwijderen</h3><p>Als een rij compleet is,</p><p>If the row is complete, the rows from the complete row to the row second from the top are looped through.</p><p>Each block in the row is looped through and set to the value of the block above it. Because there is nothing above the top row it doesn&rsquo;t need to be looped through.</p><p>The top row is then set to all empty blocks.</p><p>De volledige code tot op dit punt:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>update</span>(dt)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>local</span> complete <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>true</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>if</span> inert[y][x] <span style=color:#000;font-weight:700>==</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                        complete <span style=color:#000;font-weight:700>=</span> <span style=color:#000;font-weight:700>false</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>break</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>if</span> complete <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                   <span style=color:#998;font-style:italic>-- tijdelijke code</span>
</span></span><span style=display:flex><span>                   print(<span style=color:#d14>&#39;Complete row: &#39;</span><span style=color:#000;font-weight:700>..</span>y)
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                <span style=color:#998;font-style:italic>-- door:</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>if</span> complete <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>for</span> removeY <span style=color:#000;font-weight:700>=</span> y, <span style=color:#099>2</span>, <span style=color:#000;font-weight:700>-</span><span style=color:#099>1</span> <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>for</span> removeX <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                            inert[removeY][removeX] <span style=color:#000;font-weight:700>=</span>
</span></span><span style=display:flex><span>                            inert[removeY <span style=color:#000;font-weight:700>-</span> <span style=color:#099>1</span>][removeX]
</span></span><span style=display:flex><span>                        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>for</span> removeX <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                        inert[<span style=color:#099>1</span>][removeX] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39; &#39;</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>                <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_32>main.lua</a></sup></p><h3 id=game-over>Game over</h3><p>Als een nieuw stuk meteen niet meer verplaatst kan worden omdat er andere blokken in de weg staan, is het spel over.</p><p><code>love.load</code> wordt aangeroepen om het spel opnieuw te starten.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>update</span>(dt)
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>-- voeg toe aan het einde van deze functie</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>if</span> <span style=color:#000;font-weight:700>not</span> canPieceMove(pieceX, pieceY, pieceRotation) <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                love.load()
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_33>main.lua</a></sup></p><h3 id=het-rooster-verplaatsen-in-het-window>Het rooster verplaatsen in het window</h3><p>Tot nu toe is het rooster aan de linker boven kant van het venster getekend. We gaan het nu in het midden een stukje van
de bovenrand van het venster zetten.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>draw</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            drawBlock(inert[y][x], x, y)
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> block <span style=color:#000;font-weight:700>=</span> pieceStructures[pieceType][pieceRotation][y][x]
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>if</span> block <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                drawBlock(block, x <span style=color:#000;font-weight:700>+</span> pieceX, y <span style=color:#000;font-weight:700>+</span> pieceY)
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- door:    </span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>local</span> offsetX <span style=color:#000;font-weight:700>=</span> <span style=color:#099>2</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>local</span> offsetY <span style=color:#000;font-weight:700>=</span> <span style=color:#099>5</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            drawBlock(inert[y][x], x <span style=color:#000;font-weight:700>+</span> offsetX, y <span style=color:#000;font-weight:700>+</span> offsetY)
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> block <span style=color:#000;font-weight:700>=</span> pieceStructures[pieceType][pieceRotation][y][x]
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>if</span> block <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                drawBlock(block, x <span style=color:#000;font-weight:700>+</span> pieceX <span style=color:#000;font-weight:700>+</span> offsetX, y <span style=color:#000;font-weight:700>+</span> pieceY <span style=color:#000;font-weight:700>+</span> offsetY)
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_34>main.lua</a></sup></p><p><img src=imgs/16.png alt="het rooster"></p><h3 id=het-volgende-stuk>Het volgende stuk</h3><p>Het volgende stuk uit de reeks dat gaat vallen, wordt boven het rooster getekend.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>draw</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>local</span> <span style=color:#000;font-weight:700>function</span> <span style=color:#900;font-weight:700>drawBlock</span>(block, x, y)
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>local</span> colors <span style=color:#000;font-weight:700>=</span> {
</span></span><span style=display:flex><span>            [<span style=color:#d14>&#39; &#39;</span>] <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.87</span>, <span style=color:#099>.87</span>, <span style=color:#099>.87</span>},
</span></span><span style=display:flex><span>            i <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.47</span>, <span style=color:#099>.76</span>, <span style=color:#099>.94</span>},
</span></span><span style=display:flex><span>            j <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.93</span>, <span style=color:#099>.91</span>, <span style=color:#099>.42</span>},
</span></span><span style=display:flex><span>            l <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.49</span>, <span style=color:#099>.85</span>, <span style=color:#099>.76</span>},
</span></span><span style=display:flex><span>            o <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.92</span>, <span style=color:#099>.69</span>, <span style=color:#099>.47</span>},
</span></span><span style=display:flex><span>            s <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.83</span>, <span style=color:#099>.54</span>, <span style=color:#099>.93</span>},
</span></span><span style=display:flex><span>            t <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.97</span>, <span style=color:#099>.58</span>, <span style=color:#099>.77</span>},
</span></span><span style=display:flex><span>            z <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.66</span>, <span style=color:#099>.83</span>, <span style=color:#099>.46</span>},
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>-- voeg toe:</span>
</span></span><span style=display:flex><span>            preview <span style=color:#000;font-weight:700>=</span> {<span style=color:#099>.75</span>, <span style=color:#099>.75</span>, <span style=color:#099>.75</span>},
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>        }
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- voeg toe aan het eind van de functie</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, pieceXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>local</span> block <span style=color:#000;font-weight:700>=</span> pieceStructures[sequence[<span style=color:#000;font-weight:700>#</span>sequence]][<span style=color:#099>1</span>][y][x]
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>if</span> block <span style=color:#000;font-weight:700>~=</span> <span style=color:#d14>&#39; &#39;</span> <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                drawBlock(<span style=color:#d14>&#39;preview&#39;</span>, x <span style=color:#000;font-weight:700>+</span> <span style=color:#099>5</span>, y <span style=color:#000;font-weight:700>+</span> <span style=color:#099>1</span>)
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_35>main.lua</a></sup></p><p><img src=imgs/17.png alt="het rooster"></p><h3 id=het-spel-herstarten>Het spel herstarten</h3><p>Als het spel is afgelopen, wordt het herstart. Daarvoor moeten wat variabelen opnieuw worden ingesteld.<br>De code hierovor zetten we in een functie.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>load</span>()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>-- voeg toe aan het einde van de functie</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>function</span> <span style=color:#900;font-weight:700>reset</span>()
</span></span><span style=display:flex><span>        inert <span style=color:#000;font-weight:700>=</span> {}
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>for</span> y <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridYCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>            inert[y] <span style=color:#000;font-weight:700>=</span> {}
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>for</span> x <span style=color:#000;font-weight:700>=</span> <span style=color:#099>1</span>, gridXCount <span style=color:#000;font-weight:700>do</span>
</span></span><span style=display:flex><span>                inert[y][x] <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39; &#39;</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        newSequence()
</span></span><span style=display:flex><span>        newPiece()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        timer <span style=color:#000;font-weight:700>=</span> <span style=color:#099>0</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    reset()
</span></span><span style=display:flex><span>    <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>function</span> <span style=color:#458;font-weight:700>love</span>.<span style=color:#900;font-weight:700>update</span>(dt)
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>-- vervang:</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>if</span> <span style=color:#000;font-weight:700>not</span> canPieceMove(pieceX, pieceY, pieceRotation) <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                love.load()
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>-- met:</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>if</span> <span style=color:#000;font-weight:700>not</span> canPieceMove(pieceX, pieceY, pieceRotation) <span style=color:#000;font-weight:700>then</span>
</span></span><span style=display:flex><span>                reset()
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>            <span style=color:#998;font-style:italic>--</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>end</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>end</span>
</span></span></code></pre></td></tr></table></div></div><p><sup><a href=blocks_wip/main.lua_36>main.lua</a></sup></p><p><strong>Veel plezier met spelen!</strong></p><h2 id=bron>Bron</h2><p>Deze instructie is een vertaling van de Engelstalige tutorial
<a href=https://simplegametutorials.github.io/love/blocks/>Blocks: A tutorial for Lua and LÖVE 11</a> van
<a href=mailto:simple.game.tutorials@gmail.com>simple.game.tutorials@gmail.com</a>.</p><div class=section id=licentie><h1>Licentie</h1><p>Deze instructies worden, net als alle andere instructies van CoderDojo Nijmegen,
aangeboden onder een <a class="reference external" href=http://creativecommons.org/licenses/by-nc-sa/4.0/>Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International Licentie</a>.</p><a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/><img alt="Creative Commons License" style=border-width:0 src=/imgs/CreativeCommons.png></a></div></article></main><footer><div id=colofon><div><p>Stichting CoderDojo Nijmegen</p>Nijhoffstraat 5<br>6524 AT Nijmegen<br><br><a href=/privacy>privacybeleid</a></div><div><img src=/imgs/coderdojo-nijmegen-anbi.png alt="ANBI logo"></div><div><p>hosting door:</p><a href=https://github.com/coderdojonijmegen/ target=_blank rel="noopener noreferrer"><img src=/imgs/GitHub_Logo_White.png alt="Hosting door GitHub Pages"></a></div><div><p>gesteund door:</p><a href=http://www.stitpro.nl/ target=_blank rel="noopener noreferrer"><img src=/imgs/stitpro-bw.png alt="Stitpro logo"></a></div></div><div class=copyright>CoderDojo Nijmegen &copy; 2025</div><div class=social><a href=https://www.facebook.com/pages/CoderDojo-Nijmegen/400380873445793 target=_blank rel="noopener noreferrer"><img src=/imgs/facebook.png alt=Facebook></a>
<a href=https://twitter.com/CoderDojo024 target=_blank rel="noopener noreferrer"><img src=/imgs/twitter.png alt=Twitter></a>
<a href=https://www.linkedin.com/company/stichting-coderdojo-nijmegen/ target=_blank rel="noopener noreferrer"><img src=/imgs/linkedin.png alt=LinkedIn></a>
<a href=https://www.eventbrite.nl/o/stichting-coderdojo-nijmegen-12043791497 target=_blank rel="noopener noreferrer"><img src=/imgs/eventbrite.png alt=Eventbrite></a>
<a href=https://github.com/coderdojonijmegen target=_blank rel="noopener noreferrer"><img src=/imgs/github.png alt=GitHub></a></div></footer><script src=/js/bundle.js></script></body></html>